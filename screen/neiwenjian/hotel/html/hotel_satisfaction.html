<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name=renderer content=webkit>
    <title>满意度</title>
    	<script type="text/javascript" src="../js/jquery.min.js"></script>
		<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../echarts/echarts.js"></script>
		<!--<script type="text/javascript" src="../js/bootstrap-table.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap-table-zh-CN.js"></script>
		<script type="text/javascript" src="../js/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js"></script>-->
	<!--	<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="../js/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.css">
		<link rel="stylesheet" href="../css/bootstrap-table.min.css">
		<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css">-->
		<link rel="stylesheet" href="../bootstrap/css/bootstrap.css" />
    	<script src="../echarts/echarts.common.min.js"></script>
	<link rel="stylesheet" href="../css/satisfaction.css">
</head>
<body>
	<div class="row" style="background-color: #3f3d3e;">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            	</button>
				<img class="logo" src="../img/logo1.jpg" alt="logo" />
				<span class="title">客户满意度分析</span>
			</div>
			<div class="navbar-collapse collapse title">
				<!--<ul class="nav navbar-nav">-->
				<ul class="nav nav-tabs" role="tablist">
					<li>
						<a href="main.html" target="_self">返回</a>
					</li>
				</ul>
			</div>
		</div>
		
<div class="container">
	
	<div id="div_week"></div>
	<button type="button" id="btn_week" onclick="change_week()">当周</button>
	<button type="button" id="btn_month" onclick="change_month()">当月</button>
	<button type="button" id="btn_year" onclick="change_year()">当季</button>
</div>

<div class="pie">
	<div id="div_hotel_week"></div>
	<div id="div_house_week"></div>
</div>


	<!--<div class="modal fade" id="myModal_haoping" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
		<div class="xianlu_table  mar-left40" style="margin-top: 50px;margin-left: 20px;">
						<table id="travel_table" class="table table-hover" data-toggle="table" data-url="#" data-page-size="5" data-pagination="true">
								<thead>
									<tr class="dytop_table_th">
										<th>评论人</th>
										<th>评论内容</th>
									</tr>
								</thead>
								<tbody>
									<tr class="dytop_table_td1">
										<td>阳旭</td>
										<td>挺好的，下次继续入住，赞</td>
									</tr>
									<tr >
										<td>皓毅</td>
										<td>房间整洁干净，也很宽敞明亮 ，服务态度很好，屋里非常暖和。已经不是第一次入住了，对环境位置都非常满意。而且价格也不贵，对于同样档次的宾馆在其他地方至少要比这个贵一倍。以后在去那里就一定还会去豪泰商务宾馆入住的。住的。</td>
									</tr> 
									<tr >
										<td>孝岩</td>
										<td>一如既往的好，下次再见👋👋👋👋👋，就是没有电梯房间超大</td>
									</tr>
									<tr class="dytop_table_td">
										<td>悦晨</td>
										<td>超赞！山景房，房间大。</td>
									</tr>
									<tr class="dytop_table_td">
										<td>益舒</td>
										<td>环境赞，服务很贴心</td>
									</tr>
									<tr class="dytop_table_td">
										<td>语祯</td>
										<td>房屋宽敞，设备齐全，很好</td>
									</tr>
									<tr class="dytop_table_td">
										<td>军瑞</td>
										<td>房间很大，桌面地面比较干净，但苍蝇比较多。通风很好。这边的空调为单热型。酒店位置为镇外边缘。</td>
									</tr>
									<tr class="dytop_table_td">
										<td>贵烽</td>
										<td>真正不错，服务交通都很方便，地理位置相当方便 ，性价比高</td>
									</tr>
									<tr class="dytop_table_td">
										<td>锶语</td>
										<td>二连浩特 > 中蒙边防公路 > 天然石林 > 成吉思宝格达山</td>
									</tr>
									<tr class="dytop_table_td">
										<td>倡灏</td>
										<td>锡林浩特 > 恐龙博物馆 > 恐龙地质公园 > 中蒙国门</td>
									</tr>
								</tbody>
						</table>
					</div>
	</div>-->
	
<!--	<div class="modal fade" id="myModal_chaping" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
	</div>-->
<script>

	var myChart = echarts.init(document.getElementById('div_week'));
	var myChart_hotel = echarts.init(document.getElementById('div_hotel_week'));
	var myChart_house = echarts.init(document.getElementById('div_house_week'));
	timeData = [
		'0', '2', '4','6','8','10','12','14','16','18','20',
		'22','24','26'
	];
	option_week = {
		title: {
			text: '▌入住量与评价数对比分析图',
			top: '1%',
			left: '2%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip: {
			trigger: 'axis'
		},
		legend: {
			data:['酒店','牧人之家'],
			top:10
		},
		grid: {
			left: '3%',
			right: '10%',
			bottom: '10%',
			containLabel: true
		},
		xAxis: {
			name:'入住量(k)',
			boundaryGap : false,
			data: timeData
		},
		yAxis: {
			name : '评价数(k)',
			type : 'value',
			 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// 使用深浅的间隔色
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
		},
		series: [
			{
				name:'酒店',
				type:'line',
				data:[
					0, 1.136,2.707,3.912,5.236,6.609,7.98,9.01,10.29,11.369,12.98,14.3,15.769,17.094
				]
			},
			{
				name:'牧人之家',
				type:'line',
				data: [
					0, 0.986,2.037,3.213,4.528,5.97,7.19,8.39,9.79,10.6,11.869,13.127,14.577,15.98
				]
			}
		]
	};

	myChart.setOption(option_week);

	function change_week() {
		$("#btn_week").css("background-color","#027AE0");
		$("#btn_week").css("color","white");
		$("#btn_week").siblings().css("background-color","white");
		$("#btn_week").siblings().css("color","#027AE0");
		timeData = [
			'0', '2', '4','6','8','10','12','14','16','18','20',
			'22','24','26'
		];
		option_week = {
			title: {
				text: '▌入住量与评价数对比分析图',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['酒店','牧人之家'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'入住量(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : '评价数(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// 使用深浅的间隔色
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'酒店',
					type:'line',
					data:[
						0, 1.136,2.707,3.912,5.236,6.609,7.98,9.01,10.29,11.369,12.98,14.3,15.769,17.094
					]
				},
				{
					name:'牧人之家',
					type:'line',
					data: [
						0, 0.986,2.037,3.213,4.528,5.97,7.19,8.39,9.79,10.6,11.869,13.127,14.577,15.98
					]
				}
			]
		};
		myChart.setOption(option_week);
	}
	function change_month() {

		$("#btn_month").css("background-color","#027AE0");
		$("#btn_month").css("color","white");
		$("#btn_month").siblings().css("background-color","white");
		$("#btn_month").siblings().css("color","#027AE0");
		timeData = [
			'0', '5', '10','15','20','25','30','35','40','45','50',
			'55','60','65'
		];

		option_week = {
			title: {
				text: '▌入住量与评价数对比分析图',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['酒店','牧人之家'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'入住量(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : '评价数(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// 使用深浅的间隔色
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'酒店',
					type:'line',
					data:[
						0, 3.006,5.989,8.429,11.593,14.392,17.981,21.003,24.269,27.668,31.203,33.908,36.842,39.725
					]
				},
				{
					name:'牧人之家',
					type:'line',
					data: [
						0, 2.49,5.12,7.72,10.032,12.69,15.609,19.03,22.123,24.987,28.013,30.891,33.617,36.702
					]
				}
			]
		};
		myChart.setOption(option_week);
	}
	function change_year() {
		$("#btn_year").css("background-color","#027AE0");
		$("#btn_year").css("color","white");
		$("#btn_year").siblings().css("background-color","white");
		$("#btn_year").siblings().css("color","#027AE0");
		timeData = [
			'0', '15', '30','45','60','75','90','105','120','135','150',
			'165','180','195'
		];

		option_week = {
			title: {
				text: '▌入住量与评价数对比分析图',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['酒店','牧人之家'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'入住量(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : '评价数(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// 使用深浅的间隔色
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'酒店',
					type:'line',
					data:[
						0, 8.429,17.891,27.668,36.842,45.726,54.090,63.69,73.201,82.91,90.89,99.82,108.93,117.2
					]
				},
				{
					name:'牧人之家',
					type:'line',
					data: [
						0, 7.72,15.609,24.981,33.617,41.276,48.276,43.99,57.02,65.329,75.901,84.29,91.95,100.3
					]
				}
			]
		};
		myChart.setOption(option_week);

	}

	var  data_jiudian=[];
	var data_murenzhijia=[];
	//  折线图点击事件
	myChart.on('click',function(data){
		if(data.seriesName=='酒店'){
			var cp = Math.floor(Math.random()*(data.data/10))
			data_jiudian=[
				{value:(data.data-cp),name:'好评'},
				{value:cp,name:'差评'}
			]
			console.log(data.data);

			option_hotel_week = {
				title : {
					text: '▌酒店评价情况占比',
					top: '1%',
					left: '8%',
					textStyle: {
						color: '#EEB300',
						fontSize: 15
					}
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {
					data: ['好评','差评'],
					orient: 'horizontal',
					bottom: '3%',
					top:230,
					left:160
				},
				series : [
					{
						name: '酒店评价情况',
						type: 'pie',
						radius : '55%',
						center: ['50%', '50%'],
						data:data_jiudian,
						itemStyle: {
							emphasis: {
								shadowBlur: 10,
								shadowOffsetX: 0,
								shadowColor: 'rgba(0, 0, 0, 0.5)'
							}
						}
					}
				]
			};

			myChart_hotel.setOption(option_hotel_week);
		}

		if(data.seriesName=='牧人之家'){
			var cp = Math.floor(Math.random()*(data.data/10))
			data_murenzhijia=[
				{value:(data.data-cp),name:'好评'},
				{value:cp,name:'差评'}
			];
			option_house_week = {
				title : {
					text: '▌牧人之家评价情况占比',
					top: '1%',
					left: '8%',
					textStyle: {
						color: '#EEB300',
						fontSize: 15
					}
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {
					data: ['好评','差评'],
					orient: 'horizontal',
					bottom: '3%',
					top:230,
					left:160
				},
				series : [
					{
						name: '牧人之家评价情况',
						type: 'pie',
						radius : '55%',
						center: ['50%', '50%'],
						data:data_murenzhijia,
						itemStyle: {
							emphasis: {
								shadowBlur: 10,
								shadowOffsetX: 0,
								shadowColor: 'rgba(0, 0, 0, 0.5)'
							}
						}
					}
				]
			};

			myChart_house.setOption(option_house_week );
		}

	});

	option_hotel_week = {
		title : {
			text: '▌酒店评价情况占比',
			top: '1%',
			left: '8%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip : {
			trigger: 'item',
			formatter: "{a} <br/>{b} : {c} ({d}%)"
		},
		legend: {
			data: ['好评','差评'],
			orient: 'horizontal',
			bottom: '3%',
			top:230,
			left:160
		},
		series : [
			{
				name: '酒店评价情况',
				type: 'pie',
				radius : '55%',
				center: ['50%', '50%'],
				data:[
					{value:375, name:'好评'},
					{value:110, name:'差评'}
				],
				itemStyle: {
					emphasis: {
						shadowBlur: 10,
						shadowOffsetX: 0,
						shadowColor: 'rgba(0, 0, 0, 0.5)'
					}
				}
			}
		]
	};
	option_house_week = {
		title : {
			text: '▌牧人之家评价情况占比',
			top: '1%',
			left: '8%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip : {
			trigger: 'item',
			formatter: "{a} <br/>{b} : {c} ({d}%)"
		},
		legend: {
			data: ['好评','差评'],
			orient: 'horizontal',
			bottom: '5%',
			top:230,
			left:160
		},
		series : [
			{
				name: '牧人之家评价情况',
				type: 'pie',
				radius : '55%',
				center: ['50%', '50%'],
				data:[
					{value:335, name:'好评'},
					{value:310, name:'差评'}
				],
				itemStyle: {
					emphasis: {
						shadowBlur: 10,
						shadowOffsetX: 0,
						shadowColor: 'rgba(0, 0, 0, 0.5)'
					}
				}
			}
		]
	};

	myChart_hotel.setOption(option_hotel_week);
	myChart_house.setOption(option_house_week );
	myChart_hotel.on('click',function(data){
		if(data.name=='好评'){
			$('#myModal_haoping').modal('show');
		}else if(data.name=='差评'){
			$('#myModal_chaping').modal('show');
		}
	})

</script>
</body>
</html>