<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name=renderer content=webkit>
    <title>æ»¡æ„åº¦</title>
    	<script type="text/javascript" src="../js/jquery.min.js"></script>
		<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../echarts/echarts.js"></script>
		<!--<script type="text/javascript" src="../js/bootstrap-table.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap-table-zh-CN.js"></script>
		<script type="text/javascript" src="../js/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js"></script>-->
	<!--	<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="../js/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.css">
		<link rel="stylesheet" href="../css/bootstrap-table.min.css">
		<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css">-->
		<link rel="stylesheet" href="../bootstrap/css/bootstrap.css" />
    	<script src="../echarts/echarts.common.min.js"></script>
	<link rel="stylesheet" href="../css/satisfaction.css">
</head>
<body>
	<div class="row" style="background-color: #3f3d3e;">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">åˆ‡æ¢å¯¼èˆª</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            	</button>
				<img class="logo" src="../img/logo1.jpg" alt="logo" />
				<span class="title">å®¢æˆ·æ»¡æ„åº¦åˆ†æ</span>
			</div>
			<div class="navbar-collapse collapse title">
				<!--<ul class="nav navbar-nav">-->
				<ul class="nav nav-tabs" role="tablist">
					<li>
						<a href="main.html" target="_self">è¿”å›</a>
					</li>
				</ul>
			</div>
		</div>
		
<div class="container">
	
	<div id="div_week"></div>
	<button type="button" id="btn_week" onclick="change_week()">å½“å‘¨</button>
	<button type="button" id="btn_month" onclick="change_month()">å½“æœˆ</button>
	<button type="button" id="btn_year" onclick="change_year()">å½“å­£</button>
</div>

<div class="pie">
	<div id="div_hotel_week"></div>
	<div id="div_house_week"></div>
</div>


	<!--<div class="modal fade" id="myModal_haoping" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
		<div class="xianlu_table  mar-left40" style="margin-top: 50px;margin-left: 20px;">
						<table id="travel_table" class="table table-hover" data-toggle="table" data-url="#" data-page-size="5" data-pagination="true">
								<thead>
									<tr class="dytop_table_th">
										<th>è¯„è®ºäºº</th>
										<th>è¯„è®ºå†…å®¹</th>
									</tr>
								</thead>
								<tbody>
									<tr class="dytop_table_td1">
										<td>é˜³æ—­</td>
										<td>æŒºå¥½çš„ï¼Œä¸‹æ¬¡ç»§ç»­å…¥ä½ï¼Œèµ</td>
									</tr>
									<tr >
										<td>çš“æ¯…</td>
										<td>æˆ¿é—´æ•´æ´å¹²å‡€ï¼Œä¹Ÿå¾ˆå®½æ•æ˜äº® ï¼ŒæœåŠ¡æ€åº¦å¾ˆå¥½ï¼Œå±‹é‡Œéå¸¸æš–å’Œã€‚å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡å…¥ä½äº†ï¼Œå¯¹ç¯å¢ƒä½ç½®éƒ½éå¸¸æ»¡æ„ã€‚è€Œä¸”ä»·æ ¼ä¹Ÿä¸è´µï¼Œå¯¹äºåŒæ ·æ¡£æ¬¡çš„å®¾é¦†åœ¨å…¶ä»–åœ°æ–¹è‡³å°‘è¦æ¯”è¿™ä¸ªè´µä¸€å€ã€‚ä»¥ååœ¨å»é‚£é‡Œå°±ä¸€å®šè¿˜ä¼šå»è±ªæ³°å•†åŠ¡å®¾é¦†å…¥ä½çš„ã€‚ä½çš„ã€‚</td>
									</tr> 
									<tr >
										<td>å­å²©</td>
										<td>ä¸€å¦‚æ—¢å¾€çš„å¥½ï¼Œä¸‹æ¬¡å†è§ğŸ‘‹ğŸ‘‹ğŸ‘‹ğŸ‘‹ğŸ‘‹ï¼Œå°±æ˜¯æ²¡æœ‰ç”µæ¢¯æˆ¿é—´è¶…å¤§</td>
									</tr>
									<tr class="dytop_table_td">
										<td>æ‚¦æ™¨</td>
										<td>è¶…èµï¼å±±æ™¯æˆ¿ï¼Œæˆ¿é—´å¤§ã€‚</td>
									</tr>
									<tr class="dytop_table_td">
										<td>ç›Šèˆ’</td>
										<td>ç¯å¢ƒèµï¼ŒæœåŠ¡å¾ˆè´´å¿ƒ</td>
									</tr>
									<tr class="dytop_table_td">
										<td>è¯­ç¥¯</td>
										<td>æˆ¿å±‹å®½æ•ï¼Œè®¾å¤‡é½å…¨ï¼Œå¾ˆå¥½</td>
									</tr>
									<tr class="dytop_table_td">
										<td>å†›ç‘</td>
										<td>æˆ¿é—´å¾ˆå¤§ï¼Œæ¡Œé¢åœ°é¢æ¯”è¾ƒå¹²å‡€ï¼Œä½†è‹è‡æ¯”è¾ƒå¤šã€‚é€šé£å¾ˆå¥½ã€‚è¿™è¾¹çš„ç©ºè°ƒä¸ºå•çƒ­å‹ã€‚é…’åº—ä½ç½®ä¸ºé•‡å¤–è¾¹ç¼˜ã€‚</td>
									</tr>
									<tr class="dytop_table_td">
										<td>è´µçƒ½</td>
										<td>çœŸæ­£ä¸é”™ï¼ŒæœåŠ¡äº¤é€šéƒ½å¾ˆæ–¹ä¾¿ï¼Œåœ°ç†ä½ç½®ç›¸å½“æ–¹ä¾¿ ï¼Œæ€§ä»·æ¯”é«˜</td>
									</tr>
									<tr class="dytop_table_td">
										<td>é”¶è¯­</td>
										<td>äºŒè¿æµ©ç‰¹ > ä¸­è’™è¾¹é˜²å…¬è·¯ > å¤©ç„¶çŸ³æ— > æˆå‰æ€å®æ ¼è¾¾å±±</td>
									</tr>
									<tr class="dytop_table_td">
										<td>å€¡ç</td>
										<td>é”¡æ—æµ©ç‰¹ > æé¾™åšç‰©é¦† > æé¾™åœ°è´¨å…¬å›­ > ä¸­è’™å›½é—¨</td>
									</tr>
								</tbody>
						</table>
					</div>
	</div>-->
	
<!--	<div class="modal fade" id="myModal_chaping" tabindex="-1" role="dialog" aria-labelledby="modal-label" aria-hidden="true">
	</div>-->
<script>

	var myChart = echarts.init(document.getElementById('div_week'));
	var myChart_hotel = echarts.init(document.getElementById('div_hotel_week'));
	var myChart_house = echarts.init(document.getElementById('div_house_week'));
	timeData = [
		'0', '2', '4','6','8','10','12','14','16','18','20',
		'22','24','26'
	];
	option_week = {
		title: {
			text: 'â–Œå…¥ä½é‡ä¸è¯„ä»·æ•°å¯¹æ¯”åˆ†æå›¾',
			top: '1%',
			left: '2%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip: {
			trigger: 'axis'
		},
		legend: {
			data:['é…’åº—','ç‰§äººä¹‹å®¶'],
			top:10
		},
		grid: {
			left: '3%',
			right: '10%',
			bottom: '10%',
			containLabel: true
		},
		xAxis: {
			name:'å…¥ä½é‡(k)',
			boundaryGap : false,
			data: timeData
		},
		yAxis: {
			name : 'è¯„ä»·æ•°(k)',
			type : 'value',
			 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// ä½¿ç”¨æ·±æµ…çš„é—´éš”è‰²
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
		},
		series: [
			{
				name:'é…’åº—',
				type:'line',
				data:[
					0, 1.136,2.707,3.912,5.236,6.609,7.98,9.01,10.29,11.369,12.98,14.3,15.769,17.094
				]
			},
			{
				name:'ç‰§äººä¹‹å®¶',
				type:'line',
				data: [
					0, 0.986,2.037,3.213,4.528,5.97,7.19,8.39,9.79,10.6,11.869,13.127,14.577,15.98
				]
			}
		]
	};

	myChart.setOption(option_week);

	function change_week() {
		$("#btn_week").css("background-color","#027AE0");
		$("#btn_week").css("color","white");
		$("#btn_week").siblings().css("background-color","white");
		$("#btn_week").siblings().css("color","#027AE0");
		timeData = [
			'0', '2', '4','6','8','10','12','14','16','18','20',
			'22','24','26'
		];
		option_week = {
			title: {
				text: 'â–Œå…¥ä½é‡ä¸è¯„ä»·æ•°å¯¹æ¯”åˆ†æå›¾',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['é…’åº—','ç‰§äººä¹‹å®¶'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'å…¥ä½é‡(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : 'è¯„ä»·æ•°(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// ä½¿ç”¨æ·±æµ…çš„é—´éš”è‰²
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'é…’åº—',
					type:'line',
					data:[
						0, 1.136,2.707,3.912,5.236,6.609,7.98,9.01,10.29,11.369,12.98,14.3,15.769,17.094
					]
				},
				{
					name:'ç‰§äººä¹‹å®¶',
					type:'line',
					data: [
						0, 0.986,2.037,3.213,4.528,5.97,7.19,8.39,9.79,10.6,11.869,13.127,14.577,15.98
					]
				}
			]
		};
		myChart.setOption(option_week);
	}
	function change_month() {

		$("#btn_month").css("background-color","#027AE0");
		$("#btn_month").css("color","white");
		$("#btn_month").siblings().css("background-color","white");
		$("#btn_month").siblings().css("color","#027AE0");
		timeData = [
			'0', '5', '10','15','20','25','30','35','40','45','50',
			'55','60','65'
		];

		option_week = {
			title: {
				text: 'â–Œå…¥ä½é‡ä¸è¯„ä»·æ•°å¯¹æ¯”åˆ†æå›¾',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['é…’åº—','ç‰§äººä¹‹å®¶'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'å…¥ä½é‡(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : 'è¯„ä»·æ•°(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// ä½¿ç”¨æ·±æµ…çš„é—´éš”è‰²
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'é…’åº—',
					type:'line',
					data:[
						0, 3.006,5.989,8.429,11.593,14.392,17.981,21.003,24.269,27.668,31.203,33.908,36.842,39.725
					]
				},
				{
					name:'ç‰§äººä¹‹å®¶',
					type:'line',
					data: [
						0, 2.49,5.12,7.72,10.032,12.69,15.609,19.03,22.123,24.987,28.013,30.891,33.617,36.702
					]
				}
			]
		};
		myChart.setOption(option_week);
	}
	function change_year() {
		$("#btn_year").css("background-color","#027AE0");
		$("#btn_year").css("color","white");
		$("#btn_year").siblings().css("background-color","white");
		$("#btn_year").siblings().css("color","#027AE0");
		timeData = [
			'0', '15', '30','45','60','75','90','105','120','135','150',
			'165','180','195'
		];

		option_week = {
			title: {
				text: 'â–Œå…¥ä½é‡ä¸è¯„ä»·æ•°å¯¹æ¯”åˆ†æå›¾',
				top: '1%',
				left: '2%',
				textStyle: {
					color: '#EEB300',
					fontSize: 15
				}
			},
			tooltip: {
				trigger: 'axis'
			},
			legend: {
				data:['é…’åº—','ç‰§äººä¹‹å®¶'],
				top:10
			},
			grid: {
				left: '3%',
				right: '10%',
				bottom: '10%',
				containLabel: true
			},
			xAxis: {
				name:'å…¥ä½é‡(k)',
				boundaryGap : false,
				data: timeData
			},
			yAxis: {
				name : 'è¯„ä»·æ•°(k)',
				type : 'value',
				 axisLabel: {
						textStyle: {
						color: "#646464"
						}
					},
					splitLine: {
						show: true,
					lineStyle: {
						// ä½¿ç”¨æ·±æµ…çš„é—´éš”è‰²
						color: ['#d9d9d9'],
						type: 'dashed',
					}
					},
					axisLine: {
					lineStyle: {
						color: '#999999'
						}
					}
			},
			series: [
				{
					name:'é…’åº—',
					type:'line',
					data:[
						0, 8.429,17.891,27.668,36.842,45.726,54.090,63.69,73.201,82.91,90.89,99.82,108.93,117.2
					]
				},
				{
					name:'ç‰§äººä¹‹å®¶',
					type:'line',
					data: [
						0, 7.72,15.609,24.981,33.617,41.276,48.276,43.99,57.02,65.329,75.901,84.29,91.95,100.3
					]
				}
			]
		};
		myChart.setOption(option_week);

	}

	var  data_jiudian=[];
	var data_murenzhijia=[];
	//  æŠ˜çº¿å›¾ç‚¹å‡»äº‹ä»¶
	myChart.on('click',function(data){
		if(data.seriesName=='é…’åº—'){
			var cp = Math.floor(Math.random()*(data.data/10))
			data_jiudian=[
				{value:(data.data-cp),name:'å¥½è¯„'},
				{value:cp,name:'å·®è¯„'}
			]
			console.log(data.data);

			option_hotel_week = {
				title : {
					text: 'â–Œé…’åº—è¯„ä»·æƒ…å†µå æ¯”',
					top: '1%',
					left: '8%',
					textStyle: {
						color: '#EEB300',
						fontSize: 15
					}
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {
					data: ['å¥½è¯„','å·®è¯„'],
					orient: 'horizontal',
					bottom: '3%',
					top:230,
					left:160
				},
				series : [
					{
						name: 'é…’åº—è¯„ä»·æƒ…å†µ',
						type: 'pie',
						radius : '55%',
						center: ['50%', '50%'],
						data:data_jiudian,
						itemStyle: {
							emphasis: {
								shadowBlur: 10,
								shadowOffsetX: 0,
								shadowColor: 'rgba(0, 0, 0, 0.5)'
							}
						}
					}
				]
			};

			myChart_hotel.setOption(option_hotel_week);
		}

		if(data.seriesName=='ç‰§äººä¹‹å®¶'){
			var cp = Math.floor(Math.random()*(data.data/10))
			data_murenzhijia=[
				{value:(data.data-cp),name:'å¥½è¯„'},
				{value:cp,name:'å·®è¯„'}
			];
			option_house_week = {
				title : {
					text: 'â–Œç‰§äººä¹‹å®¶è¯„ä»·æƒ…å†µå æ¯”',
					top: '1%',
					left: '8%',
					textStyle: {
						color: '#EEB300',
						fontSize: 15
					}
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {
					data: ['å¥½è¯„','å·®è¯„'],
					orient: 'horizontal',
					bottom: '3%',
					top:230,
					left:160
				},
				series : [
					{
						name: 'ç‰§äººä¹‹å®¶è¯„ä»·æƒ…å†µ',
						type: 'pie',
						radius : '55%',
						center: ['50%', '50%'],
						data:data_murenzhijia,
						itemStyle: {
							emphasis: {
								shadowBlur: 10,
								shadowOffsetX: 0,
								shadowColor: 'rgba(0, 0, 0, 0.5)'
							}
						}
					}
				]
			};

			myChart_house.setOption(option_house_week );
		}

	});

	option_hotel_week = {
		title : {
			text: 'â–Œé…’åº—è¯„ä»·æƒ…å†µå æ¯”',
			top: '1%',
			left: '8%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip : {
			trigger: 'item',
			formatter: "{a} <br/>{b} : {c} ({d}%)"
		},
		legend: {
			data: ['å¥½è¯„','å·®è¯„'],
			orient: 'horizontal',
			bottom: '3%',
			top:230,
			left:160
		},
		series : [
			{
				name: 'é…’åº—è¯„ä»·æƒ…å†µ',
				type: 'pie',
				radius : '55%',
				center: ['50%', '50%'],
				data:[
					{value:375, name:'å¥½è¯„'},
					{value:110, name:'å·®è¯„'}
				],
				itemStyle: {
					emphasis: {
						shadowBlur: 10,
						shadowOffsetX: 0,
						shadowColor: 'rgba(0, 0, 0, 0.5)'
					}
				}
			}
		]
	};
	option_house_week = {
		title : {
			text: 'â–Œç‰§äººä¹‹å®¶è¯„ä»·æƒ…å†µå æ¯”',
			top: '1%',
			left: '8%',
			textStyle: {
				color: '#EEB300',
				fontSize: 15
			}
		},
		tooltip : {
			trigger: 'item',
			formatter: "{a} <br/>{b} : {c} ({d}%)"
		},
		legend: {
			data: ['å¥½è¯„','å·®è¯„'],
			orient: 'horizontal',
			bottom: '5%',
			top:230,
			left:160
		},
		series : [
			{
				name: 'ç‰§äººä¹‹å®¶è¯„ä»·æƒ…å†µ',
				type: 'pie',
				radius : '55%',
				center: ['50%', '50%'],
				data:[
					{value:335, name:'å¥½è¯„'},
					{value:310, name:'å·®è¯„'}
				],
				itemStyle: {
					emphasis: {
						shadowBlur: 10,
						shadowOffsetX: 0,
						shadowColor: 'rgba(0, 0, 0, 0.5)'
					}
				}
			}
		]
	};

	myChart_hotel.setOption(option_hotel_week);
	myChart_house.setOption(option_house_week );
	myChart_hotel.on('click',function(data){
		if(data.name=='å¥½è¯„'){
			$('#myModal_haoping').modal('show');
		}else if(data.name=='å·®è¯„'){
			$('#myModal_chaping').modal('show');
		}
	})

</script>
</body>
</html>