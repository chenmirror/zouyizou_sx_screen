<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>团队监测</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="">
<meta name="description" content="">
<meta name="keywords" content="">
<link rel="stylesheet" href="../../resource/css/lib/bootstrap.min.css"/>
<link rel="stylesheet" href="../../resource/css/lib/ui-form.css"/>
<link rel="stylesheet" href="../../resource/css/lib/bootstrap-datetimepicker.min.css"/>
<link rel="stylesheet" href="../../resource/css/lib/swiper.min.css"/>
<link rel="stylesheet" href="../../resource/css/common.css"/>
<style>

	.swiper-pagination-bullet{
		width: 12px;
		height: 12px;
		border-radius: 12px;
		background-color: transparent;
		opacity: 1;
		border: 1px solid #2FDDA8;
	}
	.swiper-pagination-bullet-active{
		background-color: #2FDDA8;
	}
	.video-js{
		margin: 0 auto;
		width: 80%;
		height: 100%;
	}
	.table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td, .table > tbody > tr > td, .table > tfoot > tr > td{
		padding: 6px;
	}
	.hot-man:after{
		content: '';
		display: block;
		top: 0;
		left: 0;
		position: absolute;
		width: 100%;
		height: 100%;
		background-image: url(css/bg/zhezhao.png);
		background-size: 100% 100%;
	}
	.abHeader{
		width: 910px;	
	}
	.cs-mark{
		padding: 16px;
		right: 40px;
		bottom: 40px;
		position: absolute;
		color: #fff;
		font-size: 12px;
		background-color: #303845;
	}
	.cs-mark .ad{
		padding: 0 10px;
		width: 100%;
		line-height: 30px;
		border-top: 2px solid #3678D6;
		background-color: #232732;
	}
	.cs-mark .ad span{
		font-size: 14px;
	}
	.cs-mark .title{
		margin-top: 10px;
		padding: 0 10px;
		border-left: 2px solid #3678D6;
	}
	.cs-mark .num{
		font-size: 28px;
		border-bottom: 1px solid #4D5055;
	}
	.timeDiv{
		display: inline-block;
		color: #337ab7;
	}
	.timeCss{
		height: 37px;
		line-height: 37px;
		background-color: transparent;
		color: white;
		border: 1px solid #265589;
		width:100px;
		line-height: normal;
	}
	.searchBtn{
	    width: 90px;
		font-size: 20px;
		height:37px;
		line-height: 37px;
		margin-top: 17px !important;
		margin-left: 20px;
	}
	.searchInp{
		height:37px;
		line-height: 37px;
		width:150px;
		margin-left: 10px;
		margin-right: 3px;
	}
	.timeSearch{
		display: inline-block;
		position: absolute;
		height: 70px;
		line-height: 70px;
		margin-left: 20px;
	}
</style>
</head>
<body>
<header class="monitor-header clearfix">
	<div class="col-zsr-2 clearfix">
		<img src="../../resource/images/logo.png" class="logo pull-left"/>
 		<div class="title pull-left">团态监测</div> 
	</div>
	<div class="col-zsr-9  addBtn" id="mainTab">
			<div class="btn btn-line" onclick="return alert('正在建设中...');">山西团态分析</div>
			<div class="btn btn-line"onclick="return alert('正在建设中...');">导游综合检测</div>
			<div class="btn btn-line"onclick="return alert('正在建设中...');">旅游奖励信息</div>
			<div class="btn btn-line  active">出境旅游团队监测</div>
			<div class="timeSearch">
				<div class="timeDiv">开始时间:</div><input class="timeCss" type="text" id="datetimepicker">
				<div class="timeDiv">结束时间:</div><input class="timeCss" type="text" id="datetimepicker1">
				<!--<input class="searchInp"/>-->
				<div class="btn btn-icon searchBtn" style="margin-top:12px;"><a><i class="icon iconfont" style="font-size: 20px">搜索</i></a></div>
			</div>
		<div style="display: inline-block;float: right;">
		</div>
	</div>
<div class="col-zsr-1">
	<div class="btn btn-icon"><a href="../index.html" title="首页"><i class="icon iconfont">&#xe613;</i></a></div>
</div>
</header>
<section class="monitor-main viewactive">
	<div class="col-zsr-3 row-1 activePlot padrgt">
		<!--天气预报-->
		<div class="row-2 padbot tab">
			<div class="module module-bot padnei">
				<div class="plot-footer2">
					<section class="plot-header">
						<header>
							<div class="btn-title">
								<div class="btn">
									<i class="icon iconfont">&#xe609;</i><span class="tab-title" id="teamTitleId">行程时间和团队规模</span>
								</div>
							</div>
						</header>
						<section class="tab-show" style="display: block;" id="monthTeamNumId"></section>
					</section>
					<footer>
						<div class="ulTwo tab-menu" id="teamBtnId">
							<div class="btn btn-light">行程时间</div>
							<div class="btn btn-light  active">团队规模</div>
						</div>
					</footer>
				</div>
			</div>
		</div>
		<!--团队列表-->
		<div class="row-2 padtop">
			<div class="module module-bot padnei">
				<div class="plot-footer2">
					<section class="plot-header">
						<header>
							<div class="btn-title">
								<div class="btn">
									<i class="icon iconfont">&#xe609;</i><span class="tab-title" id="teamAreaId">出境团队目的地</span>
								</div>
							</div>
						</header>
						<section class="tab-show" style="display: block;" id="teamAreaContent"></section>
					</section>
					<footer>
						<div class="ulTwo tab-menu" id="teamAreaBtnId" >
							<div class="btn btn-light  active" style="width: 100px;">出境游</div>
							<div class="btn btn-light" style="width: 100px;">出国游</div>
							<div class="btn btn-light" style="width: 100px;">亚洲游</div>
						</div>
					</footer>
				</div>
			</div>
			
		</div>
	</div>
	
	<div class="col-zsr-6 row-1 padtwo">
		<!--客源地路线图-->
		<div class="module module-light">
			<div class="man" id="outboundDestinationMapId"></div>
			<header class="abHeader" style="width:80%;">
				<div class="btn-title">
					<div class="btn" style="color: #19467D;text-shadow: none;">
						<i class="icon iconfont">&#xe600;</i>目的地线路图
					</div>
					
				</div>
				
			</header>
			<div style="position: absolute;right: 20px;top:20px;"><a href="touristStatisticDetail.html"><img src="../../resource/images/mingxi.png"></a></div>
			<!-- <div class="cs-mark">
				<div class="ad">目的地：<span>南京</span></div>
				<div class="title">旅游热度：</div>
				<div class="num">3,156</div>
			</div> -->
		</div>
	</div>
	<div class="col-zsr-3 row-1 activePlot padleft">
		<!--组团人次旅行社TOP10-->
		<div class="row-2 padbot tab">
			<div class="module module-bot padnei">
				<div class="plot-footer2" style="padding-bottom: 0px">
					<section class="plot-header">
						<header>
							<div class="btn-title">
								<div class="btn">
									<i class="icon iconfont">&#xe617;</i><span class="tab-title" id="teamScalTitleId">组团旅行社TOP10</span>
								</div>
							</div>
						</header>
						<section class="tab-show" style="display: block;" id="teamScalId"></section>
					</section>
<!-- 					<footer> -->
<!-- 						<div class="ulTwo tab-menu" id="teamScalBtnId"> -->
<!-- 							<div class="btn btn-light active">行程时间和团队规模</div> -->
<!-- 							<div class="btn btn-light">团队客源地TOP</div> -->
<!-- 						</div> -->
<!-- 					</footer> -->
				</div>
			</div>
		</div>
		<!--导游语种比例-->
		<div class="row-2 tab padtop">
			<div class="module module-bot padnei plot-footer">
				<section class="plot-header">
					<header>
						<div class="btn-title">
							<div class="btn">
								<i class="icon iconfont">&#xe608;</i><span class="tab-title" id="guideTitleId">导游学历比例</span>
							</div>
						</div>
					</header>
					<section class="tab-show" style="display: block;" id="guideId"></section>
				</section>
				<footer>
					<div class="ulTwo tab-menu" id="guideBtnId">
						<div class="btn btn-light active">导游学历比例</div>
						<div class="btn btn-light">导游语种比例</div>
					</div>
				</footer>
			</div>
		</div>
	</div>
</section>
<script src="../../resource/script/lib/jquery-1.11.1.min.js"></script>
<script src="../../resource/script/lib/bootstrap-datetimepicker.js"></script>
<script src="../../resource/script/lib/bootstrap-datetimepicker.zh-CN.js"></script>
<!--echarts  -->
<script src="../../resource/script/lib/echarts-2.2.7/echarts.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
<script src="../../resource/script/jquery.ux.public.js"></script>
<script src="../../resource/script/platform.utils.js"></script>
<script src="../../resource/script/lib/jquery.form.js"></script>
<script src="../../resource/script/lib/bootstrap.min.js"></script>
<script src="../../resource/script/lib/bootstrap-paginator.js"></script>



<script>
// 页面
	var operPage = {
		ajaxTools: null,
		year : null,
		month: null,
		tabGuideIndex : 0,
		tabScalIndex : 0,
		tabOraginalIndex : 0,
		pageSize : 8,
		init: function () {
			
			// 初始化页面
			this.initPage();
			// 加载报表 - 同时需要加载第一时间展示的报表
			initEcharts.apply(this, ['loadInitChartServ',{types:['bar', 'line', 'pie','map']}]);
		},
		//初始化页面
		initPage: function () {
				var that=this;
			//当月团队规模
			var teamServs = ['loadTeamNumYear', 'loadTeamMonth'];
			var teamChart = 'monthTeamNumId';
			$('#teamBtnId .btn').on('click',function(){
				$(this).addClass('active').siblings().removeClass('active');
				var index = $(this).index();
				that.tabScalIndex=index;
				$('#teamTitleId').html($(this).text());
				that[teamServs[index]](teamChart);
			});
			//行程时间和团队规模
			var teamScalServs = ['loadTeamTimeScal', 'loadTeamOrginal'];
			var teamScalChart = 'teamScalId';
			$('#teamScalBtnId .btn').on('click',function(){
				$(this).addClass('active').siblings().removeClass('active');
				var index = $(this).index();
				that.tabOraginalIndex=index;
				$('#teamScalTitleId').html($(this).text());
				that[teamScalServs[index]](teamScalChart);
			});
			//导游
			var guideServs = ['loadGuidePercent', 'loadGuideLanguagePercent'];
			var guideChart = 'guideId';
			$('#guideBtnId .btn').on('click',function(){
				$(this).addClass('active').siblings().removeClass('active');
				var index = $(this).index();
				that.tabGuideIndex=index;
				$('#guideTitleId').html($(this).text());
				that[guideServs[index]](guideChart);
			});
			var teamAreaServs = ['travelout', 'traveloutboundWithChar','travelOutCountry'];
			var teamAreaChart = 'teamAreaContent';
			$('#teamAreaBtnId .btn').on('click',function(){
				$(this).addClass('active').siblings().removeClass('active');
				var index = $(this).index();
				that.tabGuideIndex=index;
				$('#teamAreaId').html($(this).text());
				that[teamAreaServs[index]](teamAreaChart);
			});
			
		},
		// 加载第一时间展示的报表
		loadInitChartServ: function () {
			this.loadTeamMonth('monthTeamNumId'); //当月团队规模TOP
			this.loadOutboundDestination();//出境游目的地
			this.loadTeamTimeScal('teamScalId'); //行程时间和团队规模
			this.travelout('teamAreaContent');
			this.loadGuidePercent('guideId');//导游学历比例
			this.loadTeamList(1);//团队列表
		},
		loadSelectCharts : function(){
			var that=this;
			if(that.tabScalIndex==0){
				that.loadTeamMonth('monthTeamNumId'); //规模TOP
			}else{
				that.loadTeamNumYear('monthTeamNumId');
			}
			if(that.tabOraginalIndex==0){
				that.loadTeamTimeScal('teamScalId'); //行程时间和团队规模
			}else{
				that.loadTeamOrginal('teamScalId');
			}
			if(that.tabGuideIndex==0){
				that.loadGuidePercent('guideId');//导游学历比例
			}else{
				that.loadGuideLanguagePercent('guideId');
			}
			this.loadOutboundDestination();//出境游目的地
			this.loadTeamList(1);
		},
		//当月团队规模TOP
		loadTeamMonth  : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[2185,2224,2076,421,207,215,103],"name":[]};
			chartPage.showTeamMonth(chart,data);
					
		
		},
		//年底接待团数
		loadTeamNumYear  : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"nowYearDate":[0,0,0,3,5,3,0,0,0,0,0,0],"year":[]};
			chartPage.showTeamNumYear(chart,data);
			
		},
		
		//出境游目的地
		loadOutboundDestination : function(){
			var data={"name":[{"name":"欧洲","value":"25958"},{"name":"新/马/泰","value":"4292"},{"name":"日本","value":"14739"},{"name":"台湾","value":"20037"},{"name":"亚洲其他","value":"152"},{"name":"澳大利亚/新西兰","value":"1298"},{"name":"港澳","value":"1259"}],"data":[[{"name":"太原"},{"name":"欧洲","value":"25958"}],[{"name":"太原"},{"name":"新/马/泰","value":"4292"}],[{"name":"太原"},{"name":"日本","value":"14739"}],[{"name":"太原"},{"name":"台湾","value":"20037"}],[{"name":"太原"},{"name":"亚洲其他","value":"152"}],[{"name":"太原"},{"name":"澳大利亚/新西兰","value":"1298"}],[{"name":"太原"},{"name":"港澳","value":"1259"}]]};
			chartPage.showOutboundDestination(data);

		},
		//行程时间和团队规模
		loadTeamTimeScal : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[2,1,3,2,3,4,1,2,5,3,6],"name":[]};
			chartPage.showTeamTimeScal(chart,data);
				
		},
		//出境游
		travelout : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[2,1,3],"name":[]};
			chartPage.showTraveloutWithChar(chart,data);
		},
		//出境游
		traveloutboundWithChar : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[1,2,4,1,6],"name":[]};
			chartPage.showTraveloutBoundWithChar(chart,data);
		},
		//亚洲游
		travelOutCountry : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[2,1,3,2,3],"name":[]};
			chartPage.showTravelOutCountry(chart,data);
				
		},
		//团队客源地TOP
		loadTeamOrginal  : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			var data={"data":[{"name":"北京市","value":100}],"name":["北京市"]};
			chartPage.showTeamOrginal(chart,data);
			
		},
		//导游学历比例
		loadGuidePercent : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			//使用时打开
			var data={"data":[{"name":"硕士","value":1},{"name":"本科","value":3},{"name":"专科","value":2}],"name":["硕士","本科","专科"]};
			chartPage.showGuidePercent(chart,data);
				
		},
		//导游语种比例
		loadGuideLanguagePercent : function(charElem){
			var	chart = getChartInstance.apply(this, [charElem]);
			//使用时打开
			var data={"data":[{"name":"普通话","value":4},{"name":"粤语","value":1},{"name":"英语","value":1}],"name":["普通话","粤语","英语"]};
			chartPage.showGuideLanguagePercent(chart,data);
					
		},
		//团队列表
		loadTeamList : function(pageNo){
			//使用时打开
			var data=[];
			var total=10;
			var reslutHtml="";
			if(total>0){
				$.each(data,function (i,val) {
					reslutHtml+="<tr><td>"+val.teamCode+"</td><td>"+val.lineName+"</td><td>"+val.guideName+"</td><td>"+val.receiveDate+"</td><td>"+val.days+"</td><td>"+val.plateNumber+"</td></tr>";
				});
				
				$("#teamListId").empty().append(reslutHtml);
				// 分页
				pagination('#pagination', total, this.pageSize, this, this.loadTeamList, pageNo);
			}else{
				for(var i=0;i<this.pageSize;i++){
					reslutHtml+="<tr><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td></tr>";
				}
				$("#teamListId").empty().append(reslutHtml);
			}			
		}
	};
	// 报表
	var chartPage = {
		//当月团队规模TOP
		showTeamMonth : function (chart, data) {
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {type : 'shadow'},
		        },
		        grid: {
		        	x: 40,
		        	y: 30,
		        	x2: 40,
		        	y2: 30
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '规模人数',
		                data: ['0-10人','10-20人','20-30人','30-40人','40-50人','50-60人','70-80人']
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '团数'
		            }
		        ],
		        series: [
		            {
		                'name': '团数',
		                'type': 'bar',
		                barGap: '0%',
			            barWidth:14,
			            barCategoryGap:'50%',
		                'data': []
		            }
		        ]
		    };
		    if(data && data.data && data.data.length>0){
		    	option.series[0].data=data.data;
		    }
			echartsUtil.setOption(chart, option);
		},
		//年底接待团数
		showTeamNumYear : function (chart, data) {
			var monthDate=PLATFORM_CONSTANS.DATE.getMonths();
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {
		                type : 'shadow'
		            },
		            formatter: '{b}月 : {c}(团)'
		        },
		        grid: {
		        	x: 40,
		        	y: 30,
		        	x2: 40,
		        	y2: 30
		        },
		        legend: {
		            data: []
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '天数',
		                data: monthDate
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '团数'
		            }
		        ],
		        series: [
		            {
		                'name': '',
		                'type': 'bar',
		                'data': []
		            }
		        ]
		    };
		   
		    	option.series[0].data=data.nowYearDate;
		    	
		    
			echartsUtil.setOption(chart, option);
		},
		showOutboundDestination : function (val) {
		    require.config({
		        paths: {
		            echarts: '../../resource/script/lib/echarts-2.2.7/'
		        },
		        packages: [
		            {
		                name: 'BMap',
		                location: '../../resource/script/lib/echarts-2.2.7/src',
		                main: 'main'
		            }
		        ]
		    });
		
		    require(
		    [
		        'echarts',
		        'BMap',
		        'echarts/chart/map'
		    ],
		    function (echarts, BMapExtension) {
		        $('#main').css({
		            height:$('body').height(),
		            width: $('body').width()
		        });
		        var BMapExt = new BMapExtension($('#outboundDestinationMapId')[0], BMap, echarts,{
		            	enableMapClick: false
		        	});
		        var zoom=4;
		        var startPoint = {
		            x: 112.3352,
		            y: 37.9413
		        };
		        // 初始化地图
		        var map = BMapExt.getMap();
		        var point = new BMap.Point(startPoint.x, startPoint.y);
		        map.centerAndZoom(point, zoom);
		        map.enableScrollWheelZoom(true);
		        var container = BMapExt.getEchartsContainer();

		       option = {
				    color: ['gold','aqua','lime'],
				    title : {
				        text: '国际出境游分析',
				        subtext:'山西省',
				        x:'center'
				    },
				    tooltip : {
				        trigger: 'item',
				        formatter:'{b}:{c}人'
				        
				    },
				    legend: {
				        orient: 'vertical',
				        x:'right',
				        y:'bottom',
				        data:['太原'],
				        selectedMode: 'single',
				        selected:{
				        }
				    },
				    dataRange: {
				        min : 0,
				        max : 100000,
				        y: '60%',
				        calculable : true,
				        color: ['#ff3333', 'orange', 'yellow','lime','aqua']
				    },
				    series : [
				        {
				            name:'全国',
				            type:'map',
				            mapType: 'none',
				            data:[],
				            geoCoord: {
				                '上海': [121.4648,31.2891],
				                '东莞': [113.8953,22.901],
				                '东营': [118.7073,37.5513],
				                '中山': [113.4229,22.478],
				                '临汾': [111.4783,36.1615],
				                '临沂': [118.3118,35.2936],
				                '丹东': [124.541,40.4242],
				                '丽水': [119.5642,28.1854],
				                '乌鲁木齐': [87.9236,43.5883],
				                '佛山': [112.8955,23.1097],
				                '保定': [115.0488,39.0948],
				                '兰州': [103.5901,36.3043],
				                '包头': [110.3467,41.4899],
				                '北京': [116.4551,40.2539],
				                '北海': [109.314,21.6211],
				                '南京': [118.8062,31.9208],
				                '南宁': [108.479,23.1152],
				                '南昌': [116.0046,28.6633],
				                '南通': [121.1023,32.1625],
				                '厦门': [118.1689,24.6478],
				                '台州': [121.1353,28.6688],
				                '合肥': [117.29,32.0581],
				                '呼和浩特': [111.4124,40.4901],
				                '咸阳': [108.4131,34.8706],
				                '哈尔滨': [127.9688,45.368],
				                '唐山': [118.4766,39.6826],
				                '嘉兴': [120.9155,30.6354],
				                '大同': [113.7854,39.8035],
				                '大连': [122.2229,39.4409],
				                '天津': [117.4219,39.4189],
				                '太原': [112.3352,37.9413],
				                '威海': [121.9482,37.1393],
				                '宁波': [121.5967,29.6466],
				                '宝鸡': [107.1826,34.3433],
				                '宿迁': [118.5535,33.7775],
				                '常州': [119.4543,31.5582],
				                '广州': [113.5107,23.2196],
				                '廊坊': [116.521,39.0509],
				                '延安': [109.1052,36.4252],
				                '张家口': [115.1477,40.8527],
				                '徐州': [117.5208,34.3268],
				                '德州': [116.6858,37.2107],
				                '惠州': [114.6204,23.1647],
				                '成都': [103.9526,30.7617],
				                '扬州': [119.4653,32.8162],
				                '承德': [117.5757,41.4075],
				                '拉萨': [91.1865,30.1465],
				                '无锡': [120.3442,31.5527],
				                '日照': [119.2786,35.5023],
				                '昆明': [102.9199,25.4663],
				                '杭州': [119.5313,29.8773],
				                '枣庄': [117.323,34.8926],
				                '柳州': [109.3799,24.9774],
				                '株洲': [113.5327,27.0319],
				                '武汉': [114.3896,30.6628],
				                '汕头': [117.1692,23.3405],
				                '江门': [112.6318,22.1484],
				                '沈阳': [123.1238,42.1216],
				                '沧州': [116.8286,38.2104],
				                '河源': [114.917,23.9722],
				                '泉州': [118.3228,25.1147],
				                '泰安': [117.0264,36.0516],
				                '泰州': [120.0586,32.5525],
				                '济南': [117.1582,36.8701],
				                '济宁': [116.8286,35.3375],
				                '海口': [110.3893,19.8516],
				                '淄博': [118.0371,36.6064],
				                '淮安': [118.927,33.4039],
				                '深圳': [114.5435,22.5439],
				                '清远': [112.9175,24.3292],
				                '温州': [120.498,27.8119],
				                '渭南': [109.7864,35.0299],
				                '湖州': [119.8608,30.7782],
				                '湘潭': [112.5439,27.7075],
				                '滨州': [117.8174,37.4963],
				                '潍坊': [119.0918,36.524],
				                '烟台': [120.7397,37.5128],
				                '玉溪': [101.9312,23.8898],
				                '珠海': [113.7305,22.1155],
				                '盐城': [120.2234,33.5577],
				                '盘锦': [121.9482,41.0449],
				                '石家庄': [114.4995,38.1006],
				                '福州': [119.4543,25.9222],
				                '秦皇岛': [119.2126,40.0232],
				                '绍兴': [120.564,29.7565],
				                '聊城': [115.9167,36.4032],
				                '肇庆': [112.1265,23.5822],
				                '舟山': [122.2559,30.2234],
				                '苏州': [120.6519,31.3989],
				                '莱芜': [117.6526,36.2714],
				                '菏泽': [115.6201,35.2057],
				                '营口': [122.4316,40.4297],
				                '葫芦岛': [120.1575,40.578],
				                '衡水': [115.8838,37.7161],
				                '衢州': [118.6853,28.8666],
				                '西宁': [101.4038,36.8207],
				                '西安': [109.1162,34.2004],
				                '贵阳': [106.6992,26.7682],
				                '连云港': [119.1248,34.552],
				                '邢台': [114.8071,37.2821],
				                '邯郸': [114.4775,36.535],
				                '郑州': [113.4668,34.6234],
				                '鄂尔多斯': [108.9734,39.2487],
				                '重庆': [107.7539,30.1904],
				                '金华': [120.0037,29.1028],
				                '铜川': [109.0393,35.1947],
				                '银川': [106.3586,38.1775],
				                '镇江': [119.4763,31.9702],
				                '长春': [125.8154,44.2584],
				                '长沙': [113.0823,28.2568],
				                '长治': [112.8625,36.4746],
				                '阳泉': [113.4778,38.0951],
				                '青岛': [120.4651,36.3373],
				                '韶关': [113.7964,24.7028],
				                '欧洲': [22.033659,51.161626],
				                '新/马/泰' :  [101.647961,17.665546],
				                '韩国' : [127.845712,35.42798],
				                '台湾' : [121.075507,23.687555],
				                '中国台湾' : [121.075507,23.687555],
				                '香港' : [113.900561,22.359287],
				                '中国香港' : [113.900561,22.359287],
				                '亚洲其他' : [97.674145,56.697144],
				                '澳大利亚/新西兰' : [135.351809,-23.910603],
				                '港澳' : [113.900561,22.359287],
				                '美洲' : [-103.739461,43.965057],
				                '欧洲' : [20.773444,50.938758],
				                '其他国家'  : [97.674145,56.697144],
				                '日本' : [136.750004,35.458092],
				                '咸宁' : [114.328392,29.846371],
				                '吉首' : [109.702258,28.266849],
				                '凤凰' : [109.604738,27.954075],
				                '黄石' : [115.041984,30.205086],
				                '嘉鱼' : [113.94474,29.975973],
				                '张家界' : [110.483775,29.122225],
				                '钟祥' : [112.596942,31.174738],
				                '罗田' : [115.403099,30.788546],
				                '安陆' : [113.693988,31.260019],
				                '通山' : [114.489728,29.612966],
				                '宜昌' : [111.294696,30.69785],
				                '洪湖' : [113.475701,29.827115],
				                '随州' : [113.382214,31.69048],
				                '安陆' : [113.688963,31.255775],
				                '十堰' : [110.79927,32.629516],
				                '三亚' : [109.514178,18.232932],
				                '武汉' : [114.312406,30.600169],
				                '大庆' : [125.110302,46.593017],
				                '驻马店' : [114.02889,33.019241],
				                '贵阳' : [106.636816,26.653522],
				                '恩施' : [109.485727,30.300641],
				                '湘西土家族苗族自治州' : [109.745507,28.321724],
				                '阿坝藏族羌族自治州' :[102.230611,31.911249]
				            },
				            markLine : {
				                smooth:true,
				                symbol: ['none', 'circle'],  
				                symbolSize : 1,
				                itemStyle : {
				                    normal: {
				                        color:'#fff',
				                        borderWidth:1,
				                        borderColor:'rgba(30,144,255,0.5)'
				                    }
				                },
				                data : []
				            }
				        },
				        {
				            name:'太原',
				            type:'map',
				            mapType: 'none',
				            data:[],
				            markLine : {
				                smooth:true,
				                effect : {
				                    show: true,
				                    scaleSize: 1,
				                    period: 30,
				                    color: '#fff',
				                    shadowBlur: 10
				                },
				                itemStyle : {
				                    normal: {
				                        borderWidth:1,
				                        lineStyle: {
				                            type: 'solid',
				                            shadowBlur: 10
				                        }
				                    }
				                },
				                data : []
				                
				            },
				            markPoint : {
				                symbol:'emptyCircle',
				                symbolSize : function (v){
				                    return 10 + v/10000
				                },
				                effect : {
				                    show: true,
				                    shadowBlur : 0
				                },
				                itemStyle:{
				                    normal:{
				                        label:{show:false}
				                    }
				                },
				                data : []
				            }
				            
				        }
				    ]
				};
		        if(val && val.data && val.data.length>0){
		        	option.series[1].markLine.data=val.data;
		        	option.series[1].markPoint.data=val.name;
		        }
		        var myChart = BMapExt.initECharts(container);
		        window.onresize = myChart.onresize;
		        BMapExt.setOption(option);
		    });
		},
		//行程时间和团队规模
		showTeamTimeScal  : function (chart, data) {
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {
		                type : 'shadow'
		            },
		        },
		        grid: {
		        	x: 40,
		        	y: 40,
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '',
		                data: ["社A","社B","社C","社D","社E","社F","社G","H","I","J","旅行社"]
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '人数'
		            }
		        ],
		        series: [
		            {
		                'name': '人数',
		                'type': 'bar',
		                'data': []
		            }
		        ]
		    };
		    if(data && data.data && data.data.length>0){
		    	option.series[0].data=data.data;
		    }
			echartsUtil.setOption(chart, option);
		},
		//出境游
		showTraveloutWithChar : function (chart, data) {
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {
		                type : 'shadow'
		            },
		        },
		        grid: {
		        	x: 40,
		        	y: 40,
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '',
		                data: ["港澳游","台湾游","出国游"]
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '团数'
		            }
		        ],
		        series: [
		            {
		                'name': '团数',
		                'type': 'bar',
		                'data': []
		            }
		        ]
		    };
		    if(data && data.data && data.data.length>0){
		    	option.series[0].data=data.data;
		    }
			echartsUtil.setOption(chart, option);
		},
		//出国游
		showTraveloutBoundWithChar :function (chart, data) {
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {
		                type : 'shadow'
		            },
		        },
		        grid: {
		        	x: 40,
		        	y: 40,
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '',
		                data: ["亚洲","大洋洲","欧洲","美洲","其他国家"]
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '团数'
		            }
		        ],
		        series: [
		            {
		                'name': '团数',
		                'type': 'bar',
		                'data': []
		            }
		        ]
		    };
		    if(data && data.data && data.data.length>0){
		    	option.series[0].data=data.data;
		    }
			echartsUtil.setOption(chart, option);
		},
		//亚洲游
		showTravelOutCountry  : function (chart, data) {
			var option = {
		        tooltip: {
		            trigger: 'axis',
		            axisPointer : {
		                type : 'shadow'
		            },
		        },
		        grid: {
		        	x: 40,
		        	y: 40,
		        },
		        xAxis: [
		            {
		                type: 'category',
		                name: '',
		                data: ["日本","韩国","新马泰","越南","其他国家"]
		            }
		        ],
		        yAxis: [
		            {
		                type: 'value',
		                name: '团数'
		            }
		        ],
		        series: [
		            {
		                'name': '团数',
		                'type': 'bar',
		                'data': []
		            }
		        ]
		    };
		    if(data && data.data && data.data.length>0){
		    	option.series[0].data=data.data;
		    }
			echartsUtil.setOption(chart, option);
		},
		//团队客源地TOP
		showTeamOrginal  : function (chart, data) {
			var option = {
			    tooltip : {
			        trigger: 'item',
			        formatter: "{a} <br/>{b} : {c} ({d}%)"
			    },
			    legend: {
			        orient : 'vertical',
			        x : 'right',
			        y : 'center',
			        data:[]
			    },
			    series : [
			        {
			            name:'客源地top',
			            type:'pie',
			            center:['40%','50%'],
			            radius : ['50%', '80%'],
			            itemStyle : {
			                normal : {
			                    label : {
			                        show : true,
			                        formatter:"{d}%"
			                    },
			                    labelLine : {
			                        show : true
			                    }
			                },
			                emphasis : {
			                    label : {
			                        show : true,
			                        position : 'center',
			                        textStyle : {
			                            fontSize : '30',
			                            fontWeight : 'bold'
			                        }
			                    }
			                }
			            },
			            data:[]
			        }
			    ]
			};
			if(data && data.name && data.name.length>0){
				option.legend.data=data.name;
				option.series[0].data=data.data;
			}
			echartsUtil.setOption(chart, option);
		},
		//导游学历比例
		showGuidePercent : function (chart, data) {
				option = {
				    tooltip : {
				        show: true,
				        formatter: "{a} <br/>{b} : {c} ({d}%)"
				    },
				    legend: {
				        orient : 'vertical',
				        x : 'right',
				        y : 'center',
				        data:[]
				    },
			    series : [
			        {
			            name:'导游学历',
			            type:'pie',
			            clockWise:true,
			            startAngle: 135,
			            center : ['35%', 134],
			            radius : [60, 110],
			            data:[],
			        }
			    ]
			};
			if(data && data.name && data.name.length>0){
				option.legend.data=data.name;
				option.series[0].data=data.data;
			}
			echartsUtil.setOption(chart, option);
		},
		//导游语种比例
		showGuideLanguagePercent : function (chart, data) {
			option = {
			    tooltip : {
			        trigger: 'item',
			        formatter: "{a} <br/>{b} : {c} ({d}%)"
			    },
			    legend: {
			        orient : 'vertical',
			        x : 'right',
			        y : 'center',
			        data:[]
			    },
			    series : [
			        {
			            name:'语种比例',
			            type:'pie',
			            center:['40%','50%'],
			            radius : ['30%', '65%'],
			            data:[]
			        }
			    ]
			};
			if(data && data.name && data.name.length>0){
				option.legend.data=data.name;
				option.series[0].data=data.data;
			}
			echartsUtil.setOption(chart, option);
		},
	};
	$(document).ready(function () {
		operPage.init();
		//日期插件
		$('.timeCss').datetimepicker({
	    	language:  'zh-CN',
	        todayBtn:  1,
			autoclose: 1,
			minView: "month", //选择日期后，不会再跳转去选择时分秒 
			todayHighlight: 1,
			startView: 2,
			forceParse: 0,
	        showMeridian: 1,
		    format: 'yyyymmdd'
		});
		
	});
</script>
</body>
</html>